{"ast":null,"code":"import _slicedToArray from\"C:/Users/andyc/Desktop/Web Programs/Wordle with Friends/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import'../../css/HomePage.css';import ColoredRow from'../ColoredRow.jsx';import Notification from'../Notification.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=function HomePage(_ref){var socket=_ref.socket,permission=_ref.permission;var _useState=useState(\"none\"),_useState2=_slicedToArray(_useState,2),createColor=_useState2[0],setCreateLight=_useState2[1];var _useState3=useState(\"none\"),_useState4=_slicedToArray(_useState3,2),joinColor=_useState4[0],setJoinLight=_useState4[1];var name=useRef('');var roomCode=useRef('');var navigate=useNavigate();var allowSubmit=useRef(true);var message=useRef('');var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),visible=_useState6[0],setVisible=_useState6[1];var changeName=function changeName(event){name.current=event.target.value.toUpperCase().padEnd(6,'-');};var preventNameSubmit=function preventNameSubmit(event){event.preventDefault();};var createRoom=function createRoom(){if(name.current===''){name.current='------';}socket.emit('createRoom',name.current);permission.current='lobby';navigate('/lobby',{replace:true});};var changeRoomCode=function changeRoomCode(event){roomCode.current=event.target.value;};var submitCode=function submitCode(){if(!allowSubmit.current){return;}if(name.current===''){name.current='------';}allowSubmit.current=false;socket.emit('checkCode',{name:name.current,id:socket.id,leader:false},roomCode.current);};var handleSubmitCode=function handleSubmitCode(event){event.preventDefault();submitCode();};useEffect(function(){socket.on('disconnect',function(){navigate('/',{replace:true});});socket.on('validCode',function(){permission.current='lobby';navigate('/lobby',{replace:true});allowSubmit.current=true;});socket.on('invalidCode',function(){message.current='Please enter a valid code.';setVisible(true);setTimeout(function(){return setVisible(false);},3000);allowSubmit.current=true;});socket.on('alreadyInGame',function(){message.current='Game in progress.';setVisible(true);setTimeout(function(){return setVisible(false);},3000);allowSubmit.current=true;});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"HomePage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nameBox\",children:/*#__PURE__*/_jsx(ColoredRow,{name:\"NAME\",color:\"z\"})}),/*#__PURE__*/_jsx(\"form\",{className:\"input\",autoComplete:\"off\",onSubmit:preventNameSubmit,children:/*#__PURE__*/_jsx(\"input\",{className:\"inputBar\",id:\"nameInputBar\",type:\"text\",name:\"name\",maxLength:\"16\",onChange:changeName})}),/*#__PURE__*/_jsx(\"div\",{className:\"lobbyButtonContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lobbyButton\",onClick:createRoom,onMouseEnter:function onMouseEnter(){return setCreateLight(\"yellow\");},onMouseLeave:function onMouseLeave(){return setCreateLight(\"none\");},children:[/*#__PURE__*/_jsx(ColoredRow,{name:\"CREATE\",color:createColor}),/*#__PURE__*/_jsx(ColoredRow,{name:\"ROOM\",color:createColor})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lobbyButtonContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lobbyButton\",onClick:submitCode,onMouseEnter:function onMouseEnter(){return setJoinLight(\"green\");},onMouseLeave:function onMouseLeave(){return setJoinLight(\"none\");},children:[/*#__PURE__*/_jsx(ColoredRow,{name:\"JOIN\",color:joinColor}),/*#__PURE__*/_jsx(ColoredRow,{name:\"ROOM\",color:joinColor})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{className:\"input\",autoComplete:\"off\",onSubmit:handleSubmitCode,onChange:changeRoomCode,children:/*#__PURE__*/_jsx(\"input\",{className:\"inputBar\",id:\"codeInputBar\",type:\"text\",name:\"name\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'20px'},children:/*#__PURE__*/_jsx(Notification,{visible:visible,message:message.current,position:\"middle-center\"})})]});};export default HomePage;","map":{"version":3,"sources":["C:/Users/andyc/Desktop/Web Programs/Wordle with Friends/client/src/components/pages/HomePage.jsx"],"names":["useState","useRef","useEffect","useNavigate","ColoredRow","Notification","HomePage","socket","permission","createColor","setCreateLight","joinColor","setJoinLight","name","roomCode","navigate","allowSubmit","message","visible","setVisible","changeName","event","current","target","value","toUpperCase","padEnd","preventNameSubmit","preventDefault","createRoom","emit","replace","changeRoomCode","submitCode","id","leader","handleSubmitCode","on","setTimeout","marginTop"],"mappings":"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","sourcesContent":["import {useState, useRef, useEffect} from 'react'\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport '../../css/HomePage.css';\r\nimport ColoredRow from '../ColoredRow.jsx';\r\nimport Notification from '../Notification.jsx'\r\n\r\nconst HomePage = ({socket, permission}) => {\r\n  const [createColor, setCreateLight] = useState(\"none\")\r\n  const [joinColor, setJoinLight] = useState(\"none\")\r\n  const name = useRef('')\r\n  const roomCode = useRef('')\r\n  const navigate = useNavigate()\r\n\r\n  const allowSubmit = useRef(true)\r\n  const message = useRef('')\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const changeName = (event)=>{\r\n    name.current = event.target.value.toUpperCase().padEnd(6, '-')\r\n  };\r\n\r\n  const preventNameSubmit = (event) => {\r\n    event.preventDefault();\r\n  }\r\n\r\n  const createRoom = () => {\r\n    if (name.current === '') {\r\n      name.current = '------'\r\n    }\r\n\r\n    socket.emit('createRoom', name.current)\r\n    permission.current = 'lobby'\r\n    navigate('/lobby', {replace: true})\r\n  }\r\n\r\n  const changeRoomCode = (event) => {\r\n    roomCode.current = event.target.value\r\n  }\r\n\r\n  const submitCode = () => {\r\n    if (!allowSubmit.current) {\r\n      return\r\n    }\r\n\r\n    if (name.current === '') {\r\n      name.current = '------'\r\n    }\r\n\r\n    allowSubmit.current = false;\r\n    socket.emit('checkCode', {name: name.current, id: socket.id, leader: false}, roomCode.current)\r\n  }\r\n\r\n  const handleSubmitCode = (event) => {\r\n    event.preventDefault()\r\n    submitCode()\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.on('disconnect', () => {\r\n      navigate('/', {replace: true})\r\n    })\r\n\r\n    socket.on('validCode', () => {\r\n      permission.current = 'lobby'\r\n      navigate('/lobby', {replace: true})\r\n      allowSubmit.current = true\r\n    })\r\n\r\n    socket.on('invalidCode', () => {\r\n      message.current = 'Please enter a valid code.'\r\n      setVisible(true)\r\n      setTimeout(() => setVisible(false), 3000)\r\n      allowSubmit.current = true\r\n    })\r\n\r\n    socket.on('alreadyInGame', () => {\r\n      message.current = 'Game in progress.'\r\n      setVisible(true)\r\n      setTimeout(() => setVisible(false), 3000)\r\n      allowSubmit.current = true\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className='HomePage'>\r\n      <div className=\"nameBox\">\r\n        <ColoredRow name=\"NAME\" color='z'/>\r\n      </div>\r\n\r\n      <form className='input' autoComplete=\"off\" onSubmit={preventNameSubmit}>\r\n        <input className='inputBar' id='nameInputBar' type=\"text\" name=\"name\" maxLength=\"16\" onChange={changeName}/>\r\n      </form>\r\n\r\n      <div className='lobbyButtonContainer'>\r\n        <div className='lobbyButton' onClick={createRoom} onMouseEnter={() => setCreateLight(\"yellow\")} onMouseLeave={() => setCreateLight(\"none\")}>\r\n          <ColoredRow name=\"CREATE\" color={createColor}/>\r\n          <ColoredRow name=\"ROOM\" color={createColor}/> \r\n        </div>\r\n      </div>\r\n\r\n      <div className='lobbyButtonContainer'> \r\n        <div className='lobbyButton' onClick={submitCode} onMouseEnter={() => setJoinLight(\"green\")} onMouseLeave={() => setJoinLight(\"none\")}>\r\n          <ColoredRow name=\"JOIN\" color={joinColor}/>\r\n          <ColoredRow name=\"ROOM\" color={joinColor}/> \r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <form className='input' autoComplete=\"off\" onSubmit={handleSubmitCode} onChange={changeRoomCode}>\r\n          <input className='inputBar' id='codeInputBar' type=\"text\" name=\"name\"/>\r\n        </form>\r\n      </div>\r\n\r\n      <div style={{marginTop: '20px'}}>\r\n        <Notification visible={visible} message={message.current} position='middle-center'/>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage"]},"metadata":{},"sourceType":"module"}