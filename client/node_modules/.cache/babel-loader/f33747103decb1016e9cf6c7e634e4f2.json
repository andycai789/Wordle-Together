{"ast":null,"code":"import _slicedToArray from\"C:/Users/andyc/Desktop/Web Programs/Wordle with Friends/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef,useEffect}from'react';import{useNavigate}from\"react-router-dom\";import'../../css/HomePage.css';import ColoredRow from'../ColoredRow.jsx';import Notification from'../Notification.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=function HomePage(_ref){var socket=_ref.socket,permission=_ref.permission;var _useState=useState(\"zzzzzz\"),_useState2=_slicedToArray(_useState,2),createColors=_useState2[0],setCreateLight=_useState2[1];var _useState3=useState(\"zzzzzz\"),_useState4=_slicedToArray(_useState3,2),joinColors=_useState4[0],setJoinLight=_useState4[1];var name=useRef('');var roomCode=useRef('');var navigate=useNavigate();var message=useRef('');var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),visible=_useState6[0],setVisible=_useState6[1];var changeName=function changeName(event){name.current=event.target.value.toUpperCase().padEnd(6,'-');};var preventNameSubmit=function preventNameSubmit(event){event.preventDefault();};var createRoom=function createRoom(){if(name.current===''){name.current='------';}socket.emit('createRoom',name.current);permission.current='lobby';navigate('/lobby',{replace:true});};var changeRoomCode=function changeRoomCode(event){roomCode.current=event.target.value;};var submitCode=function submitCode(){if(name.current===''){name.current='------';}socket.emit('checkCode',{name:name.current,id:socket.id,leader:false},roomCode.current);};var handleSubmitCode=function handleSubmitCode(event){event.preventDefault();submitCode();};useEffect(function(){socket.on('validCode',function(){permission.current='lobby';navigate('/lobby',{replace:true});});socket.on('invalidCode',function(){message.current='Please enter a valid code.';setVisible(true);setTimeout(function(){return setVisible(false);},3000);});socket.on('alreadyInGame',function(){message.current='Game in progress.';setVisible(true);setTimeout(function(){return setVisible(false);},3000);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"HomePage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nameBox\",children:/*#__PURE__*/_jsx(ColoredRow,{name:\"NAME\",colors:\"zzzz\"})}),/*#__PURE__*/_jsx(\"form\",{className:\"input\",autoComplete:\"off\",onSubmit:preventNameSubmit,children:/*#__PURE__*/_jsx(\"input\",{className:\"inputBar\",id:\"nameInputBar\",type:\"text\",name:\"name\",maxLength:\"6\",onChange:changeName})}),/*#__PURE__*/_jsx(\"div\",{className:\"lobbyButtonContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lobbyButton\",onClick:createRoom,onMouseEnter:function onMouseEnter(){return setCreateLight(\"yyyyyy\");},onMouseLeave:function onMouseLeave(){return setCreateLight(\"zzzzzz\");},children:[/*#__PURE__*/_jsx(ColoredRow,{name:\"CREATE\",colors:createColors}),/*#__PURE__*/_jsx(ColoredRow,{name:\"ROOM\",colors:createColors})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lobbyButtonContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"lobbyButton\",onClick:submitCode,onMouseEnter:function onMouseEnter(){return setJoinLight(\"gggggg\");},onMouseLeave:function onMouseLeave(){return setJoinLight(\"zzzzzz\");},children:[/*#__PURE__*/_jsx(ColoredRow,{name:\"JOIN\",colors:joinColors}),/*#__PURE__*/_jsx(ColoredRow,{name:\"ROOM\",colors:joinColors})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{className:\"input\",autoComplete:\"off\",onSubmit:handleSubmitCode,onChange:changeRoomCode,children:/*#__PURE__*/_jsx(\"input\",{className:\"inputBar\",id:\"codeInputBar\",type:\"text\",name:\"name\"})})}),/*#__PURE__*/_jsx(Notification,{visible:visible,message:message.current,position:\"middle-center\"})]});};export default HomePage;","map":{"version":3,"sources":["C:/Users/andyc/Desktop/Web Programs/Wordle with Friends/client/src/components/pages/HomePage.jsx"],"names":["useState","useRef","useEffect","useNavigate","ColoredRow","Notification","HomePage","socket","permission","createColors","setCreateLight","joinColors","setJoinLight","name","roomCode","navigate","message","visible","setVisible","changeName","event","current","target","value","toUpperCase","padEnd","preventNameSubmit","preventDefault","createRoom","emit","replace","changeRoomCode","submitCode","id","leader","handleSubmitCode","on","setTimeout"],"mappings":"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","sourcesContent":["import {useState, useRef, useEffect} from 'react'\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport '../../css/HomePage.css';\r\nimport ColoredRow from '../ColoredRow.jsx';\r\nimport Notification from '../Notification.jsx'\r\n\r\nconst HomePage = ({socket, permission}) => {\r\n  const [createColors, setCreateLight] = useState(\"zzzzzz\")\r\n  const [joinColors, setJoinLight] = useState(\"zzzzzz\")\r\n  const name = useRef('')\r\n  const roomCode = useRef('')\r\n  const navigate = useNavigate()\r\n\r\n  const message = useRef('')\r\n  const [visible, setVisible] = useState(false)\r\n\r\n\r\n  const changeName = (event)=>{\r\n    name.current = event.target.value.toUpperCase().padEnd(6, '-')\r\n  };\r\n\r\n  const preventNameSubmit = (event) => {\r\n    event.preventDefault();\r\n  }\r\n\r\n  const createRoom = () => {\r\n    if (name.current === '') {\r\n      name.current = '------'\r\n    }\r\n\r\n    socket.emit('createRoom', name.current)\r\n    permission.current = 'lobby'\r\n    navigate('/lobby', {replace: true})\r\n  }\r\n\r\n  const changeRoomCode = (event) => {\r\n    roomCode.current = event.target.value\r\n  }\r\n\r\n  const submitCode = () => {\r\n    if (name.current === '') {\r\n      name.current = '------'\r\n    }\r\n\r\n    socket.emit('checkCode', {name: name.current, id: socket.id, leader: false}, roomCode.current)\r\n  }\r\n\r\n  const handleSubmitCode = (event) => {\r\n    event.preventDefault()\r\n    submitCode()\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket.on('validCode', () => {\r\n      permission.current = 'lobby'\r\n      navigate('/lobby', {replace: true})\r\n    })\r\n\r\n    socket.on('invalidCode', () => {\r\n      message.current = 'Please enter a valid code.'\r\n      setVisible(true)\r\n      setTimeout(() => setVisible(false), 3000)\r\n    })\r\n\r\n    socket.on('alreadyInGame', () => {\r\n      message.current = 'Game in progress.'\r\n      setVisible(true)\r\n      setTimeout(() => setVisible(false), 3000)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className='HomePage'>\r\n      <div className=\"nameBox\">\r\n        <ColoredRow name=\"NAME\" colors='zzzz'/>\r\n      </div>\r\n\r\n      <form className='input' autoComplete=\"off\" onSubmit={preventNameSubmit}>\r\n        <input className='inputBar' id='nameInputBar' type=\"text\" name=\"name\" maxLength=\"6\" onChange={changeName}/>\r\n      </form>\r\n\r\n      <div className='lobbyButtonContainer'>\r\n        <div className='lobbyButton' onClick={createRoom} onMouseEnter={() => setCreateLight(\"yyyyyy\")} onMouseLeave={() => setCreateLight(\"zzzzzz\")}>\r\n          <ColoredRow name=\"CREATE\" colors={createColors}/>\r\n          <ColoredRow name=\"ROOM\" colors={createColors}/> \r\n        </div>\r\n      </div>\r\n\r\n      <div className='lobbyButtonContainer'> \r\n        <div className='lobbyButton' onClick={submitCode} onMouseEnter={() => setJoinLight(\"gggggg\")} onMouseLeave={() => setJoinLight(\"zzzzzz\")}>\r\n          <ColoredRow name=\"JOIN\" colors={joinColors}/>\r\n          <ColoredRow name=\"ROOM\" colors={joinColors}/> \r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <form className='input' autoComplete=\"off\" onSubmit={handleSubmitCode} onChange={changeRoomCode}>\r\n          <input className='inputBar' id='codeInputBar' type=\"text\" name=\"name\"/>\r\n        </form>\r\n      </div>\r\n\r\n      <Notification visible={visible} message={message.current} position='middle-center'/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomePage"]},"metadata":{},"sourceType":"module"}